<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>SeaConnect Messenger</title>

<style>

body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;
background:#f5f5f5;
}

/* HEADER */

.header{
height:60px;
background:white;
display:flex;
align-items:center;
padding:0 15px;
border-bottom:1px solid #ddd;
gap:10px;
}

.header button{
background:none;
border:none;
font-size:22px;
cursor:pointer;
}

.title{
font-weight:700;
font-size:18px;
}

/* MESSAGE LIST */

.messageList{
padding:10px;
}

.user{
display:flex;
gap:10px;
padding:12px;
background:white;
border-radius:10px;
margin-bottom:8px;
cursor:pointer;
align-items:center;
}

.avatar{
width:45px;
height:45px;
border-radius:50%;
position:relative;
}

.avatar img{
width:45px;
height:45px;
border-radius:50%;
object-fit:cover;
}

.online{
width:10px;
height:10px;
background:#22c55e;
border-radius:50%;
position:absolute;
bottom:2px;
right:2px;
border:2px solid white;
}

.name{
font-weight:700;
}

.rank{
font-size:12px;
color:#666;
}

/* CHAT SCREEN */

.chatScreen{
position:fixed;
top:0;
left:0;
right:0;
bottom:0;
background:white;
display:none;
flex-direction:column;
}

/* CHAT HEADER */

.chatHeader{
height:60px;
display:flex;
align-items:center;
padding:0 10px;
border-bottom:1px solid #ddd;
gap:10px;
}

.chatHeader img{
width:40px;
height:40px;
border-radius:50%;
}

.chatHeader .name{
font-weight:700;
}

.chatHeader .rank{
font-size:12px;
color:#666;
}

.chatHeader .close{
margin-left:auto;
font-size:22px;
cursor:pointer;
}

/* CHAT AREA */

.chatArea{
flex:1;
overflow:auto;
padding:15px;
background:#f5f5f5;
}

.message{
max-width:70%;
padding:10px 14px;
border-radius:18px;
background:#e5e7eb;
margin-bottom:8px;
}

.me{
margin-left:auto;
background:#dbeafe;
}

/* PREVIEW IMAGE */

.preview{
max-width:120px;
border-radius:10px;
margin-bottom:5px;
display:none;
}

/* INPUT BAR */

.inputBar{
display:flex;
align-items:center;
gap:10px;
padding:10px;
background:white;
border-top:1px solid #ddd;
}

.inputBar input{
flex:1;
padding:12px;
border-radius:20px;
border:1px solid #ddd;
}

.inputBar button{
background:none;
border:none;
font-size:22px;
cursor:pointer;
}

</style>
</head>

<body>

<!-- MESSAGE LIST -->

<div id="listView">

<div class="header">
<button onclick="history.back()">←</button>
<div class="title">Messages</div>
</div>

<div class="messageList">

<div class="user" onclick="openChat()">

<div class="avatar">
<img src="https://i.ibb.co/2kRZ7Z6/avatar.png">
<div class="online"></div>
</div>

<div>
<div class="name">Murphy</div>
<div class="rank">Chief</div>
</div>

</div>

</div>

</div>

<!-- CHAT SCREEN -->

<div class="chatScreen" id="chatScreen">

<div class="chatHeader">

<button onclick="backList()">←</button>

<img src="https://i.ibb.co/2kRZ7Z6/avatar.png">

<div>
<div class="name">Murphy</div>
<div class="rank">Chief</div>
</div>

<div class="close" onclick="closeChat()">X</div>

</div>

<div class="chatArea" id="chatArea"></div>

<img id="preview" class="preview">

<div class="inputBar">

<button onclick="fileInput.click()">+</button>

<input id="messageInput" placeholder="Type message...">

<button onclick="sendMessage()">↑</button>

<input type="file" id="fileInput" accept="image/*" style="display:none">

</div>

</div>

<script>

let selectedFile=null

function openChat(){
document.getElementById("chatScreen").style.display="flex"
}

function backList(){
document.getElementById("chatScreen").style.display="none"
}

function closeChat(){
document.getElementById("chatScreen").style.display="none"
}

fileInput.onchange=()=>{

selectedFile=fileInput.files[0]

if(selectedFile){
preview.src=URL.createObjectURL(selectedFile)
preview.style.display="block"
}

}

function sendMessage(){

const text=messageInput.value.trim()

if(!text && !selectedFile) return

let html=""

if(text){
html+=`<div class="message me">${text}</div>`
}

if(selectedFile){
html+=`<div class="message me">
<img src="${preview.src}" style="max-width:200px;border-radius:10px">
</div>`
}

chatArea.innerHTML+=html

messageInput.value=""
preview.style.display="none"
fileInput.value=""
selectedFile=null

chatArea.scrollTop=chatArea.scrollHeight

}

</script>

</body>
</html>
